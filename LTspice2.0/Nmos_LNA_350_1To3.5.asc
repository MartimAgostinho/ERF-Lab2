Version 4
SHEET 1 4244 2468
WIRE 3168 352 3168 336
WIRE 3280 400 3280 352
WIRE 1408 416 1408 384
WIRE 1936 416 1936 384
WIRE -1808 448 -1808 416
WIRE 3392 448 3280 448
WIRE 3040 480 2992 480
WIRE 3168 480 3168 432
WIRE 3168 480 3104 480
WIRE 3232 480 3168 480
WIRE -1616 544 -1616 480
WIRE -1472 544 -1472 480
WIRE -1168 544 -1168 464
WIRE -1024 544 -1024 464
WIRE 1408 544 1408 496
WIRE 1488 544 1408 544
WIRE 1936 544 1936 496
WIRE 1936 544 1840 544
WIRE 3280 544 3280 496
WIRE 3328 544 3280 544
WIRE 3856 544 3392 544
WIRE 3904 544 3856 544
WIRE -1808 560 -1808 528
WIRE -1728 560 -1808 560
WIRE -1808 592 -1808 560
WIRE 3280 592 3280 544
WIRE 3856 592 3856 544
WIRE 1408 608 1408 544
WIRE 3296 640 3280 640
WIRE 1504 656 1408 656
WIRE 80 672 80 576
WIRE 3040 672 2992 672
WIRE 3168 672 3104 672
WIRE 3232 672 3168 672
WIRE 1360 688 1248 688
WIRE 1936 688 1936 544
WIRE 3296 688 3296 640
WIRE 3296 688 3280 688
WIRE -1808 704 -1808 672
WIRE -1616 704 -1616 624
WIRE -1472 704 -1472 624
WIRE -1168 704 -1168 624
WIRE -1024 704 -1024 624
WIRE 3168 720 3168 672
WIRE 3280 720 3280 688
WIRE 2000 736 1936 736
WIRE 1264 768 1200 768
WIRE 1408 768 1408 704
WIRE 1408 768 1328 768
WIRE 1504 768 1408 768
WIRE 1664 768 1504 768
WIRE 1808 768 1728 768
WIRE 1888 768 1808 768
WIRE 2000 784 2000 736
WIRE 2000 784 1936 784
WIRE 1504 800 1504 768
WIRE 1808 816 1808 768
WIRE 80 832 80 752
WIRE 3168 880 3168 800
WIRE 1936 896 1936 784
WIRE 1504 944 1504 880
WIRE 1808 944 1808 896
FLAG -1728 560 0
FLAG -1808 416 Vdd
IOPIN -1808 416 Out
FLAG -1808 704 Vss
IOPIN -1808 704 Out
FLAG -1616 704 Vss
IOPIN -1616 704 In
FLAG -1616 480 V_bias_CG
IOPIN -1616 480 Out
FLAG -1472 480 V_bias_CS
IOPIN -1472 480 Out
FLAG -1472 704 Vss
IOPIN -1472 704 In
FLAG 80 832 0
FLAG 80 576 Vin
IOPIN 80 576 In
FLAG 3392 448 Vss
IOPIN 3392 448 In
FLAG 3280 720 Vss
IOPIN 3280 720 In
FLAG 2992 480 Vop
IOPIN 2992 480 In
FLAG 2992 672 Von
IOPIN 2992 672 In
FLAG 3280 352 Vdd
IOPIN 3280 352 In
FLAG 3904 544 Vout
IOPIN 3904 544 In
FLAG 3168 880 Vbias_buff_n
IOPIN 3168 880 In
FLAG 3168 336 Vbias_buff_p
IOPIN 3168 336 In
FLAG -1168 704 Vss
IOPIN -1168 704 In
FLAG -1024 704 Vss
IOPIN -1024 704 In
FLAG -1168 464 Vbias_buff_p
IOPIN -1168 464 In
FLAG -1024 464 Vbias_buff_n
IOPIN -1024 464 In
FLAG 3856 672 0
FLAG 1200 768 Vin
IOPIN 1200 768 In
FLAG 1248 688 V_bias_CG
IOPIN 1248 688 In
FLAG 1504 944 Vss
IOPIN 1504 944 In
FLAG 1504 656 Vss
IOPIN 1504 656 In
FLAG 1936 896 Vss
IOPIN 1936 896 In
FLAG 1408 384 Vdd
IOPIN 1408 384 In
FLAG 1936 384 Vdd
IOPIN 1936 384 In
FLAG 1488 544 Vop
IOPIN 1488 544 Out
FLAG 1840 544 Von
IOPIN 1840 544 Out
FLAG 1808 944 V_bias_CS
IOPIN 1808 944 In
FLAG 1808 768 V_G_CS
FLAG 1504 768 V_S_CG
DATAFLAG 1408 544 ""
DATAFLAG 1936 544 ""
SYMBOL voltage -1808 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 2.5
SYMBOL voltage -1808 688 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL voltage -1616 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.5
SYMBOL voltage -1472 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0.75
SYMBOL voltage 80 656 R0
WINDOW 123 24 44 Left 2
WINDOW 39 24 72 Left 2
SYMATTR Value2 AC .1 0
SYMATTR SpiceLine Rser=50
SYMATTR InstName Vsource
SYMATTR Value ""
SYMBOL cap 3104 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL cap 3104 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL nmos4 3232 400 R0
SYMATTR InstName M3
SYMATTR Value NMOS-BSIM
SYMATTR Value2 l=350n w=180u
SYMBOL nmos4 3232 592 R0
SYMATTR InstName M4
SYMATTR Value NMOS-BSIM
SYMATTR Value2 l=350n w=180u
SYMBOL voltage -1168 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 2.2
SYMBOL voltage -1024 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 0.75
SYMBOL res 3152 336 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 3152 704 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap 3392 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res 3840 576 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL current 1504 800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1.4m
SYMBOL res 1392 400 R0
SYMATTR InstName R1
SYMATTR Value 280
SYMBOL res 1920 400 R0
SYMATTR InstName R2
SYMATTR Value 70
SYMBOL cap 1328 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL cap 1728 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL nmos4 1888 688 R0
SYMATTR InstName M1
SYMATTR Value NMOS-BSIM
SYMATTR Value2 l=350n w=510u
SYMBOL nmos4 1360 608 R0
SYMATTR InstName M2
SYMATTR Value NMOS-BSIM
SYMATTR Value2 l=350n w=205u
SYMBOL res 1792 800 R0
SYMATTR InstName R3
SYMATTR Value 100k
TEXT -976 1168 Left 2 !*BSIM3_035.lib\n*Speed parameters SN and SP\n.PARAM SN=0 SP=0; Un-comment this command for use with only typical models\n.MODEL NMOS-BSIM NMOS LEVEL = 49\n+VERSION = 3.1 TNOM = 27 TOX = {7.8E-9/(1+SN/20)}\n+XJ = 1E-07 NCH = 2.18E+17 VTH0 = {0.48-SN/10}\n+K1 = 6.07E-01 K2 = 1.24E-03 K3 = 9.68E+01\n+K3B = -9.84E+00 W0 = 2.02E-05 NLX = 1.62E-07\n+DVT0W = 0 DVT1W = 0 DVT2W = 0\n+DVT0 = 2.87E+00 DVT1 = 5.86E-01 DVT2 = -1.26E-01\n+U0 = {360*(1+SN/20)**2} UA = -8.48E-10 UB = 2.27E-18\n+UC = 3.27E-11 VSAT = 1.87E+05 A0 = 1.22E+00\n+AGS = 2.06E-01 B0 = 9.60E-07 B1 = 4.95E-06\n+KETA = -1.67E-04 A1 = 0 A2 = 3.49E-01\n+RDSW = 8.18E+02 PRWG = 2.35E-02 PRWB = -8.12E-02\n+WR = 9.98E-01 WINT = 1.55E-07 LINT = 4.51E-10\n+DWG = -4.27E-09\n+DWB = 4.07E-09 VOFF = -4.14E-02 NFACTOR = 1.61E+00\n+CIT = 0 CDSC = 2.39E-04 CDSCD = 0.00E+00\n+CDSCB = 0 ETA0 = 1 ETAB = -1.99E-01\n+DSUB = 1 PCLM = 1.32E+00 PDIBLC1 = 2.42E-04\n+PDIBLC2 = 8.27E-03 PDIBLCB = -9.99E-04 DROUT = 9.72E-04\n+PSCBE1 = 7.24E+08 PSCBE2 = 9.96E-04 PVAG = 1.00E-02\n+DELTA = 1.01E-02 RSH = 3.33E+00 MOBMOD = 1\n+PRT = 0 UTE = -1.5 KT1 = -1.11E-01\n+KT1L = 0 KT2 = 2.22E-02 UA1 = 4.34E-09\n+UB1 = -7.56E-18 UC1 = -5.62E-11 AT = 3.31E+04\n+WL = 0 WLN = 9.95E-01 WW = 0\n+WWN = 1.00E+00 WWL = 0 LL = 0\n+LLN = 1 LW = 0 LWN = 1\n+LWL = 0 CAPMOD = 2 XPART = 0.5\n+CGDO = 2.76E-10 CGSO = 2.76E-10 CGBO = 1.00E-12\n+CJ = {9e-4/(1+SN/20)} PB = 7.95E-01 MJ = 3.53E-01\n+CJSW = {2.8e-10/(1+SN/20)} PBSW = 7.98E-01 MJSW = 1.73E-01\n+CJSWG = 1.81E-10 PBSWG = 7.96E-01 MJSWG = 1.74E-01\n+CF = 0 PVTH0 = -1.80E-02 PRDSW = -7.56E+01\n+PK2 = 4.48E-05 WKETA = -1.33E-03 LKETA = -8.91E-03
TEXT -1720 176 Left 4 ;Voltage sources
TEXT -720 -296 Left 2 ;.op
TEXT -1984 1144 Left 2 ;*BSIM3_035.lib\n*Speed parameters SN and SP\n*.PARAM SN=0 SP=0; Un-comment this command for use with only typical models\n.MODEL NMOS-BSIM NMOS LEVEL = 49\n+VERSION = 3.1 TNOM = 27 TOX = {7.8E-9/(1+SN/20)}\n+XJ = 1E-07 NCH = 2.18E+17 VTH0 = {0.48-SN/10}\n+K1 = 6.07E-01 K2 = 1.24E-03 K3 = 9.68E+01\n+K3B = -9.84E+00 W0 = 2.02E-05 NLX = 1.62E-07\n+DVT0W = 0 DVT1W = 0 DVT2W = 0\n+DVT0 = 2.87E+00 DVT1 = 5.86E-01 DVT2 = -1.26E-01\n+U0 = {360*(1+SN/20)**2} UA = -8.48E-10 UB = 2.27E-18\n+UC = 3.27E-11 VSAT = 1.87E+05 A0 = 1.22E+00\n+AGS = 2.06E-01 B0 = 9.60E-07 B1 = 4.95E-06\n+KETA = -1.67E-04 A1 = 0 A2 = 3.49E-01\n+RDSW = 8.18E+02 PRWG = 2.35E-02 PRWB = -8.12E-02\n+WR = 9.98E-01 WINT = 1.55E-07 LINT = 4.51E-10\n+DWG = -4.27E-09\n+DWB = 4.07E-09 VOFF = -4.14E-02 NFACTOR = 1.61E+00\n+CIT = 0 CDSC = 2.39E-04 CDSCD = 0.00E+00\n+CDSCB = 0 ETA0 = 1 ETAB = -1.99E-01\n+DSUB = 1 PCLM = 1.32E+00 PDIBLC1 = 2.42E-04\n+PDIBLC2 = 8.27E-03 PDIBLCB = -9.99E-04 DROUT = 9.72E-04\n+PSCBE1 = 7.24E+08 PSCBE2 = 9.96E-04 PVAG = 1.00E-02\n+DELTA = 1.01E-02 RSH = 3.33E+00 MOBMOD = 1\n+PRT = 0 UTE = -1.5 KT1 = -1.11E-01\n+KT1L = 0 KT2 = 2.22E-02 UA1 = 4.34E-09\n+UB1 = -7.56E-18 UC1 = -5.62E-11 AT = 3.31E+04\n+WL = 0 WLN = 9.95E-01 WW = 0\n+WWN = 1.00E+00 WWL = 0 LL = 0\n+LLN = 1 LW = 0 LWN = 1\n+LWL = 0 CAPMOD = 2 XPART = 0.5\n+CGDO = 2.76E-10 CGSO = 2.76E-10 CGBO = 1.00E-12\n+CJ = {9e-4/(1+SN/20)} PB = 7.95E-01 MJ = 3.53E-01\n+CJSW = {2.8e-10/(1+SN/20)} PBSW = 7.98E-01 MJSW = 1.73E-01\n+CJSWG = 1.81E-10 PBSWG = 7.96E-01 MJSWG = 1.74E-01\n+CF = 0 PVTH0 = -1.80E-02 PRDSW = -7.56E+01\n+PK2 = 4.48E-05 WKETA = -1.33E-03 LKETA = -8.91E-03
TEXT -1824 2360 Left 2 ;Include
TEXT -720 -104 Left 2 ;.options logopinfo
TEXT -720 -264 Left 2 ;.tran 0 105n 100n
TEXT -712 -168 Left 2 !.net I(Rout) Vsource
TEXT -712 -216 Left 2 ;.ac dec 10k 100Meg 5G
TEXT -720 -384 Left 4 ;Simulations
TEXT -232 160 Left 4 ;Input
TEXT 808 216 Left 4 ;Gain Stage
TEXT 2608 168 Left 4 ;Buffer Stage
TEXT -776 544 Left 2 ;.ic V(Von)=2.1763947
TEXT -776 504 Left 2 ;.ic V(Vop)=2.664135
TEXT -776 624 Left 2 ;.ic V(V_G_CS)=0.9
TEXT -776 584 Left 2 ;.ic V(V_S_CG)=0.6958
TEXT -776 456 Left 2 ;.ic V(Vbias_buff_n)=0.67
TEXT -776 416 Left 2 ;.ic V(Vbias_buff_p)=0.67
TEXT -736 -48 Left 2 !.noise V(Vout) Vsource dec 10k 100Meg 5G
TEXT -208 -304 Left 2 !.func NF(50) =10*log10(V(inoise)*V(inoise)/(4*k*300*50))
RECTANGLE Normal -80 2464 -2128 1040 2
RECTANGLE Normal -368 928 -1952 80 2
RECTANGLE Normal -336 0 -880 -464 2
RECTANGLE Normal 512 928 -304 96 2
RECTANGLE Normal 2208 1136 688 96 2
RECTANGLE Normal 3728 1120 2528 80 2
